<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Range Plot with D3.js</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
      /* Add your CSS styles here */
      /* You can style the range lines and tooltips here */

      .range-line {
        stroke-width: 2;
      }

    </style>
  </head>
  <body>
    <div id="chart-container"></div>

    <script>
      // Sample data for the range plot
      const data = [
  {
    name: "Australia",
    attr1: 225400,
    attr2: 2961542,
  },
  {
    name: "Belgium",
    attr1: 7095,
    attr2: 730180,
  },
  {
    name: "Canada",
    attr1: 1849423,
    attr2: 3980334,
  },
  {
    name: "France",
    attr1: 2809,
    attr2: 5395460,
  },
  {
    name: "Germany",
    attr1: 22550,
    attr2: 6822943,
  },
  {
    name: "Italy",
    attr1: 39142,
    attr2: 5357205,
  },
  {
    name: "Japan",
    attr1: 1,
    attr2: 2920755,
  },
  {
    name: "Mexico",
    attr1: 86734,
    attr2: 12359935,
  },
  {
    name: "Netherlands",
    attr1: 11601,
    attr2: 1086326,
  },
  {
    name: "Poland",
    attr1: 7631,
    attr2: 1667558,
  },
  {
    name: "Portugal",
    attr1: 2974,
    attr2: 758265,
  },
  {
    name: "Spain",
    attr1: 21095,
    attr2: 3955503,
  },
  {
    name: "Sri Lanka",
    attr1: 1,
    attr2: 1769249,
  },
  {
    name: "United Kingdom",
    attr1: 195817,
    attr2: 7492687,
  },
  {
    name: "United States",
    attr1: 31225222,
    attr2: 56699638,
  },
];

      // Define the dimensions of the chart
      const margin = { top: 30, right: 30, bottom: 30, left: 60 };
      const width = 600 - margin.left - margin.right;
      const height = 400 - margin.top - margin.bottom;

      // Create an SVG container for the chart
      const svg = d3
        .select('#chart-container')
        .append('svg')
        .attr('width', width + margin.left + margin.right)
        .attr('height', height + margin.top + margin.bottom)
        .append('g')
        .attr('transform', `translate(${margin.left},${margin.top})`);

      // X and Y scales
      const xScale = d3.scaleLinear()
        .domain([0, d3.max(data, d => d.attr2)]) // Adjust the domain based on your data
        .range([0, width]);

      const yScale = d3.scaleBand()
        .domain(data.map(d => d.name))
        .range([0, height])
        .padding(0.1);

          // Draw horizontal grid lines
          svg.selectAll('.grid-line')
        .data(yScale.domain())
        .enter()
        .append('line')
        .attr('class', 'grid-line')
        .attr('x1', 0)
        .attr('x2', width)
        .attr('y1', d => yScale(d) + yScale.bandwidth() / 2)
        .attr('y2', d => yScale(d) + yScale.bandwidth() / 2)
        .style('stroke', '#ccc') // Adjust the grid line color as needed
        .style('stroke-dasharray', '2,2'); // Add dashed lines


      // Draw the range lines
      svg.selectAll('.range-line')
        .data(data)
        .enter()
        .append('line')
        .attr('class', 'range-line')
        .attr('x1', d => xScale(d.attr1))
        .attr('x2', d => xScale(d.attr2))
        .attr('y1', d => yScale(d.name) + yScale.bandwidth() / 2)
        .attr('y2', d => yScale(d.name) + yScale.bandwidth() / 2)
        .style('stroke', 'steelblue'); // Adjust the stroke color as needed

      // Add tooltips (optional)
      svg.selectAll('.range-line')
        .on('mouseover', showTooltip)
        .on('mouseout', hideTooltip);

      // Tooltip element
      const tooltip = d3
        .select('#chart-container')
        .append('div')
        .attr('class', 'tooltip')
        .style('opacity', 0);

      // Function to show tooltip
      function showTooltip(d) {
        tooltip.transition().duration(200).style('opacity', 0.9);
        tooltip.html(`Name: ${d.name}<br>Range: ${d.attr1} - ${d.attr2}`)
          .style('left', (d3.event.pageX) + 'px')
          .style('top', (d3.event.pageY - 28) + 'px');
      }

      // Function to hide the tooltip
      function hideTooltip() {
        tooltip.transition().duration(500).style('opacity', 0);
      }
    </script>
  </body>
</html>
